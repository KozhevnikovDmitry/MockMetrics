<?xml version="1.0"?>
<configuration>

  <appSettings>
    <!--Имя текущей конфигурации подключения-->
    <add key="ConnectionConfig" value="Postgre" />

    <!--Настройки подключения к базе Oracle-->
    <add key="OracleConnectionStringTemplate" value="Server={0};Port={1};Sid={2};User Id={3};Password={4};Direct=True;" />
    <add key="OracleServer" value="10.1.1.36" />
    <add key="OraclePort" value="1521" />
    <add key="OracleSid" value="bp" />

    <!--Настройки подключения к базе Postgre-->
    <add key="PostgreConnectionStringTemplate" value="Server={0};Port={1};Database={2};User Id={3};Password={4};" />
    <add key="PostgreServer" value="172.25.253.154" />
    <!--<add key="PostgreServer" value="db.gosserv.krs" />-->
    <add key="PostgrePort" value="5432" />
    <add key="PostgreDatabase" value="gosus" />

    <add key="ClientSettingsProvider.ServiceUri" value="" />
  </appSettings>

  <system.serviceModel>

    <services>
      <!-- это имя должно быть именем класса, который имплементит контракт, с неймспейсом, иначе ошибка:
      Service 'Egu.Stub.Server.AppQuiryServiceStub' has zero application (non-infrastructure) endpoints.
      This might be because no configuration file was found for your application, or because no service
      element matching the service name could be found in the configuration file, or because no endpoints
      were defined in the service element. -->
      <service name="GU.Enisey.BL.AppInquiryNotifierService" behaviorConfiguration="DefaultBehavior">
        <!-- contract должен совпадать с тем, что написано в атрибуте ServiceContractAttribute
              над интерфейсом в параметре ConfigurationName-->
        <endpoint address="" binding="basicHttpBinding" contract="ApplicationInquiryNotifierPortType">
          <identity>
            <dns value="localhost"/>
          </identity>
        </endpoint>
        <endpoint address="mex" binding="mexHttpBinding" contract="IMetadataExchange"/>
        <host>
          <baseAddresses>
            <!-- если рэндомный адрес (создан не студией) не пашет с ошибкой:
            HTTP could not register URL [url]. Your process does not have access rights to this namespace.
            курить: http://stackoverflow.com/questions/885744/wcf-servicehost-access-rights -->
            <add baseAddress="http://localhost:8787/Design_Time_Addresses/Egu.Stub.Server/AppQuiryServiceStub/"/>
          </baseAddresses>
        </host>
      </service>
    </services>
    
    <bindings>
      <basicHttpBinding>

        <binding name="AppQuirySoap11Binding" closeTimeout="00:01:00" openTimeout="00:01:00" receiveTimeout="00:10:00" 
                 sendTimeout="00:01:00" allowCookies="false" bypassProxyOnLocal="false" 
                 hostNameComparisonMode="StrongWildcard" maxBufferSize="65536"
                 maxBufferPoolSize="524288" maxReceivedMessageSize="65536" 
                 messageEncoding="Text" textEncoding="utf-8" transferMode="Buffered" useDefaultWebProxy="true">
          <readerQuotas maxDepth="32" maxStringContentLength="8192" maxArrayLength="16384" maxBytesPerRead="4096" 
                        maxNameTableCharCount="16384"/>
          <security mode="None">
            <transport clientCredentialType="None" proxyCredentialType="None" realm=""/>
            <message clientCredentialType="UserName" algorithmSuite="Default"/>
          </security>
        </binding>
        
      </basicHttpBinding>
    </bindings>
    
    
    <client>
      
      <endpoint address="http://109.195.65.227:8080/poltava-ws-appquiry/AppQuiryService10?wsdl"
                binding="basicHttpBinding" bindingConfiguration="AppQuirySoap11Binding"
                contract="GU.Enisey.Contract.AppQuiryPortType10" name="AppQuiryEndpoint10"/>
    </client>


    <behaviors>
      <serviceBehaviors>
        <behavior name="DefaultBehavior">
          <serviceDebug includeExceptionDetailInFaults="true"/>
          <serviceMetadata httpGetEnabled="true"/>
        </behavior>
      </serviceBehaviors>
    </behaviors>
    
    <diagnostics>
      <messageLogging logEntireMessage="true"
                      logMalformedMessages="true"
                      logMessagesAtServiceLevel="true"
                      logMessagesAtTransportLevel="false"
                      maxMessagesToLog="-1"/>
    </diagnostics>

  </system.serviceModel>

  <system.diagnostics>
    <sources>
      <source name="System.ServiceModel.MessageLogging">
        <listeners>
          <add name="messages" type="System.Diagnostics.XmlWriterTraceListener" initializeData="messages.svclog" />
        </listeners>
      </source>
    </sources>
  </system.diagnostics>

  <startup><supportedRuntime version="v4.0" sku=".NETFramework,Version=v4.0"/></startup></configuration>